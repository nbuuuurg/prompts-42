Piscine C
Shell 00

Summary: Ce document est le sujet du module Shell 00 de la piscine C de 42.

Contents
I

Consignes

2

II

Préambule

3

III

Exercice 00 : Z

4

IV

Exercice 01 : testShell00

5

V

Exercice 02 : Owi, encore...

6

VI

Exercice 03 : Connecte-moi!

8

VII

Exercice 04 : midLS

9

VIII

Exercise 05 : GiT commit

10

IX

Exercise 06 : gitignore

11

X

Exercice 07 : diff

12

XI

Exercice 08 : clean

13

XII

Exercice 09 : Illusions, not tricks, Michael...

14

1

Chapter I
Consignes
• Seule cette page servira de référence : ne vous fiez pas aux bruits de couloir.
• Relisez bien le sujet avant de rendre vos exercices. A tout moment le sujet peut
changer.
• Les exercices sont très précisément ordonnés du plus simple au plus complexe.
En aucun cas nous ne porterons attention ni ne prendrons en compte un exercice
complexe si un exercice plus simple n’est pas parfaitement réussi.
• Attention aux droits de vos fichiers et de vos répertoires.
• Vous devez suivre la procédure de rendu pour tous vos exercices.
• Vos exercices seront corrigés par vos camarades de piscine.
• En plus de vos camarades, vous serez corrigés par un programme appelé la Moulinette.
• La Moulinette est très stricte dans sa notation. Elle est totalement automatisée. Il
est impossible de discuter de sa note avec elle. Soyez donc rigoureux !
• Les exercices shell doivent s’exécuter avec /bin/sh.
• Vous ne devez laisser dans votre répertoire aucun autre fichier que ceux explicitement specifiés par les énoncés des exercices.
• Vous avez une question ? Demandez à votre voisin de droite. Sinon, essayez avec
votre voisin de gauche.
• Votre manuel de référence s’appelle Google / man / Internet / ....
• Pensez à discuter sur le forum Piscine de votre Intra, ainsi que sur le slack de votre
Piscine !
• Lisez attentivement les exemples. Ils pourraient bien requérir des choses qui ne sont
pas autrement précisées dans le sujet...

2

Chapter II
Préambule
Voici les paroles du générique de Nicky Larson:
Une ombre file dans la nuit
C’est un assassin qui s’enfuit
Et comme un démon il sourit
Son crime restera impuni
Une voiture qui surgit
Un coup de frein, des pneus qui crient
Un coup de feu qui retentit
La justice s’appelle Nicky
[Refrain]
Dans la chaleur
De la nuit
Le mal est toujours puni
Aucun danger ne l’impressionne
Les coups durs il les affectionne
Et la justice le passionne
Nicky Larson ne craint personne
Lorsque les coups de feu résonnent
Comme un eclair il tourbillone
Surtout si la fille est mignonne
Nicky Larson ne craint personne
Comme un chasseur il suit sa proie
Pour que la justice et le droit
Triomphent, il est prêt à donner
Toute sa vie sans hésiter
Quand sa silhouette apparaît
Les méchants se mettent à trembler
Ils savent qu’ils ne pourront jamais
Echapper à ce justicier
[Refrain]
Ce sujet n’a, malheureusement, rien à voir avec Nicky Larson.
3

Chapter III
Exercice 00 : Z
Exercise 00
Les vrais savent afficher un Z
Turn-in directory : ex00/
Files to turn in : z
Allowed functions : None

• Créez un fichier z qui, lorsque l’on fait un cat dessus, affiche "Z" suivi d’un retour
à la ligne.
?>cat z
Z
?>

4

Chapter IV
Exercice 01 : testShell00
Exercise 01
C’est quoi des attributs ?
Turn-in directory : ex01/
Files to turn in : testShell00.tar
Allowed functions : None

• Créer le fichier testShell00 dans votre répertoire de rendu.
• Vous devrez faire en sorte que:
%> ls -l
total XX
-r--r-xr-x 1 XX XX 40 Jun 1 23:42 testShell00
%>

Pour les heures, il sera toléré que ce soit l’année qui s’affiche si la date de l’exercice
(1 juin) est dépassée de six mois ou plus.
• Une fois l’exercice résolu, vous exécuterez la commande tar -cf testShell00.tar
testShell00 pour créer le fichier à rendre.

Les XX ne seront pas pris en compte.

Une année est une réponse acceptée à la place de l’heure.

5

Chapter V
Exercice 02 : Owi, encore...
Exercise 02
Owi, encore...
Turn-in directory : ex02/
Files to turn in : exo2.tar
Allowed functions : None

• Créer tous ces fichiers et répertoires. Faire le nécessaire pour que l’affichage d’un
ls -l dans votre répertoire ressemble à cela :
%> ls -l
total XX
drwx--xr-x 2 XX XX XX Jun 1 20:47 test0
-rwx--xr-- 1 XX XX 4 Jun 1 21:46 test1
dr-x---r-- 2 XX XX XX Jun 1 22:45 test2
-r-----r-- 2 XX XX 1 Jun 1 23:44 test3
-rw-r----x 1 XX XX 2 Jun 1 23:43 test4
-r-----r-- 2 XX XX 1 Jun 1 23:44 test5
lrwxr-xr-x 1 XX XX 5 Jun 1 22:20 test6 -> test0
%>

Pour les heures, il sera toléré que ce soit l’année qui s’affiche si la date de l’exercice
(1 juin) est dépassée de six mois ou plus.
• Une fois l’exercice résolu, vous exécuterez la commande tar -cf exo2.tar * pour
créer le fichier à rendre.

Les XX ne seront pas pris en compte.

6

Piscine C

Shell 00

Une année est une réponse acceptée à la place de l’heure.

7

Chapter VI
Exercice 03 : Connecte-moi!
Exercise 03
Kerberos
Turn-in directory : ex03/
Files to turn in : klist.txt
Allowed functions : None

• Vérifiez que vous possédez un ticket Kerberos non-expiré ou obtenez-en un.
• Une fois que vous avez au moins un ticket Kerberos, rendez la liste de tous vos
tickets dans un fichier klist.txt

Le nom du fichier n’a pas été choisi au hasard.

Ces commandes vous seront utiles pendant toute votre piscine, ne les
oubliez pas !

8

Chapter VII
Exercice 04 : midLS
Exercise 04
midLS
Turn-in directory : ex04/
Files to turn in : midLS
Allowed functions : None

• Placez dans un fichier midLS la ligne de commande à taper pour lister les fichiers et
les répertoires du répertoire courant, mais pas les fichiers cachés, ni "." ni ".." (rien
ne commençant par un point), séparés par des virgules, triés par date de création
et de manière à ce que les répertoires soient suivis d’un caractère slash.

Ce qui n’est pas demandé n’est pas à faire !

RTFM !

9

Chapter VIII
Exercise 05 : GiT commit
Exercise 05
GiT commit?
Turn-in directory : ex05/
Files to turn in : git_commit.sh
Allowed functions : None

• Créez un script shell qui renvoie les id des 5 derniers commit de votre dépot git.
%> bash git_commit.sh | cat -e
baa23b54f0adb7bf42623d6d0a6ed4587e11412a$
2f52d74b1387fa80eea844969e8dc5483b531ac1$
905f53d98656771334f53f59bb984fc29774701f$
5ddc8474f4f15b3fcb72d08fcb333e19c3a27078$
e94d0b448c03ec633f16d84d63beaef9ae7e7be8$
%>

Votre script sera teste dans notre environnement.

RTFM!

10

Chapter IX
Exercise 06 : gitignore
Exercise 06
GiT
Turn-in directory : ex06/
Files to turn in : git_ignore.sh
Allowed functions : None

• Écrivez un court script shell qui renverra la liste des fichiers existants ignorés par
votre dépot git actuellement présents dans votre dépot local. Exemple:
%> bash git_ignore.sh | cat -e
.DS_Store$
mywork.c~$
%>

Votre script sera teste dans notre environnement.

RTFM!

11

Chapter X
Exercice 07 : diff
Exercise 07

Turn-in directory : ex07/
Files to turn in : b
Allowed functions : None

• Créer le fichier b tel que :
%>cat -e a
STARWARS$
Episode IV, A NEW HOPE It is a period of civil war.$
$
Rebel spaceships, striking from a hidden base, have won their first victory against the evil
Galactic Empire.$
During the battle, Rebel spies managed to steal secret plans to the Empire's ultimate weapon, the
DEATH STAR,$
an armored space station with enough power to destroy an entire planet.$
$
Pursued by the Empire's sinister agents, Princess Leia races home aboard her starship, custodian of
the stolen plans that can save her people and restore freedom to the galaxy...$
$
%>diff a b > sw.diff

man patch

12

Chapter XI
Exercice 08 : clean
Exercise 08

Turn-in directory : ex08/
Files to turn in : clean
Allowed functions : None

• Placez dans un fichier clean une ligne de commande qui va rechercher, à partir
du répertoire courant et dans tous ses sous-répertoires, les fichiers dont le nom se
termine par ~, ou commence et se termine par #.
• La ligne de commande affichera et effacera les fichiers trouvés.
• Une seule commande est autorisée : pas de ’;’ ou de ’&&’ ou autre.

man find

13

Chapter XII
Exercice 09 : Illusions, not tricks,
Michael...
Exercise 09
Illusions, not tricks, Michael...
Turn-in directory : ex09/
Files to turn in : ft_magic
Allowed functions : None

• Créer un fichier magique nommé ft_magic qui devra être correctement formaté
pour détecter les fichiers de type 42 file et constitués de la chaîne "42" àu 42ème
octet.

man file

14

