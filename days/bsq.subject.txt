Projet Piscine C
BSQ
42 staff staff@42.fr

Résumé: Trouveras-tu le plus grand carré ?
Version:

Table des matières
I

Préambule

2

II

Sujet

4

III

Annexe

8

IV

Rendu et peer-evaluation

9

1

Chapitre I
Préambule
Extraits de Life, The Universe, and Everything :
« Important facts from Galactic history, number one :
(Reproduced from the Siderial Daily Mentioner’s Book of popular Galactic History.)
The night sky over the planet Krikkit is the least interesting sight in the entire Universe. »
« The Krikkit Wars belonged to the ancient past of the Galaxy, and Zaphod had spent
most of his early history lessons plotting how he was going to have sex with the girl in the
cybercubicle next to him, and since his teaching computer had been an integral part of
this plot it had eventually had all its history circuits wiped and replaced with an entirely
different set of ideas which had then resulted in it being scrapped and sent to a home for
Degenerate Cybermats, whither it was followed by the girl who had inadvertently fallen
deeply in love with the unfortunate machine, with the result (a) that Zaphod never got
near her and (b) that he missed out on a period of ancient history that would have been
of inestimable value to him at this moment. »
« The game you know as cricket, [Slartibartfast] said, and his voice still seemed to
be wandering lost in subterranean passages, is just one of those curious freaks of racial
memory which can keep images alive in the mind aeons after their true significance has
been lost in the mists of time. Of all the races on the Galaxy, only the English could
possibly revive the memory of the most horrific wars ever to sunder the Universe and
transform it into what I’m afraid is generally regarded as an incomprehensibly dull and
pointless game. »
« Although it has been said that on Earth alone in our Galaxy is Krikkit (or cricket)
treated as fit subject for a game, and that for this reason the Earth has been shunned,
this does only apply to our Galaxy, and more specifically to our dimension. In some of
the higher dimensions they feel they can more or less please themselves, and have been
playing a peculiar game called Brockian Ultra-Cricket for whatever their transdimensional equivalent of billions of years is. »
Saviez-vous que d’autres variantes du Krikkit existent ? Le Brockian Simple-Qricket a
la particularité de se jouer sur un terrain de superficie variable. La seule constante est sa
forme : un carré parfait. À travers les âges, de nombreuses techniques ont été adoptées afin
de pouvoir optimiser l’espace disponible. Le BSQ, l’un des premiers jeux écoresponsable,
demande en effet de respecter l’environnement. Aucun obstacle ne peut être déplacé pour

2

Projet Piscine C

BSQ

la création du terrain de jeu, que ce soit arbre, pierre, panneau de signalisation, ancre
de vaisseau ou, lors d’une rencontre particulière entre l’équipe des Administrés Légaux
Vogons et celles des Titans de Titans, secteur galactique entier. L’ironie étant le destin
du Galactic Sector ZZ9 Plural Z Alpha peu après la victoire des Vogons.

3

Chapitre II
Sujet
Nom
du
programme
Fichiers de rendu
Makefile
Arguments
Fonctions
externes autorisées
Libft autorisée
Description

bsq
Makefile et tous les fichiers necessaires
Yes
Fichier(s) dans le(s)quel(s) lire le carré
open, close, read, write, malloc, free, exit
Ne concerne pas ce projet
Écrivez un programme qui dessine et affiche à
l’écran le plus grand carré possible dans la zone
donnée

• Le plus grand carré :
◦ Il s’agit de trouver le plus grand carré possible sur un plateau en évitant des
obstacles.
◦ Un plateau vous est transmis dans un fichier passé en argument du programme.
◦ La première ligne du plateau contient les informations pour lire la carte :
— Le nombre de lignes du plateau ;
— Le caractère "vide" ;
— Le caractère "obstacle" ;
— Le caractère "plein".
◦ Le plateau est composé de lignes de ’caractères "vide"’ et de ’caractères
"obstacle"’.
◦ Le but du programme est de remplacer les ’caractères "vide"’ par des
’caractères "plein"’ pour représenter le plus grand carré possible.
◦ Dans le cas où plusieurs solutions existent, on choisira de représenter le carré
le plus en haut puis le plus à gauche.
4

Projet Piscine C

BSQ

◦ Votre programme doit accepter de 1 à n paramètres.
◦ Lorsque votre programme recoit plusieurs paramètres en argument, chaque
solution ou map error doit être suivi d’un line break.
◦ Si il n’y a aucun argument, votre fonction doit lire le carré sur l’entrée standard.
◦ Vous devez rendre un Makefile qui compile votre projet. Votre Makefile ne doit
pas relink.

5

Projet Piscine C

BSQ

• Définition d’une carte valide :
◦ Toutes les lignes doivent avoir la même longueur.
◦ Il y a au moins une ligne d’au moins une case.
◦ À la fin de chaque ligne, il y a un retour à la ligne.
◦ Les caractères présent dans la carte doivent être uniquement ceux présenté à
la première ligne.
◦ La carte est invalide si un caractère manque sur la première ligne, ou si deux
caractères (parmis vide, plein, et obstacles) sont identiques.
◦ Les caractères peuvent être n’importe quel caractère imprimable, même des
nombres.
◦ En cas de carte invalide, vous afficherez sur la sortie d’erreur : map error suivi
d’un retour à la ligne. Le programme passera ensuite au traitement du plateau
suivant.
• Exemple de fonctionnement :

%>cat example_file
9.ox
...........................
....o......................
............o..............
...........................
....o......................
...............o...........
...........................
......o..............o.....
..o.......o................
%>./bsq example_file
.....xxxxxxx...............
....oxxxxxxx...............
.....xxxxxxxo..............
.....xxxxxxx...............
....oxxxxxxx...............
.....xxxxxxx...o...........
.....xxxxxxx...............
......o..............o.....
..o.......o................
%>

6

Projet Piscine C

BSQ

C’est bien un carré. Même si cela n’y ressemble pas visuellement.

7

Chapitre III
Annexe
• Générateur de plateaux perl
#!/usr/bin/perl
use warnings;
use strict;
die "program x y density" unless (scalar(@ARGV) == 3);
my ($x, $y, $density) = @ARGV;
print "$y.ox\n";
for (my $i = 0; $i < $y; $i++) {
for (my $j = 0; $j < $x; $j++) {
if (int(rand($y) * 2) < $density) {
print "o";
}
else {
print ".";
}
}
print "\n";
}

8

Chapitre IV
Rendu et peer-evaluation
Rendez votre travail sur votre dépot Git comme d’habitude. Seul le travail présent
sur votre dépot sera évalué en soutenance. Vérifiez bien les noms de vos dossiers et de
vos fichiers afin que ces derniers soient conformes aux demandes du sujet.
Vu que votre travail ne sera pas évalué par un programme, organisez vos fichiers
comme bon vous semble du moment que vous rendez les fichiers obligatoires et respectez
les consignes du sujet.

Vous ne devez rendre uniquement les fichiers demandés par le sujet de
ce projet.

9

